
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>main module &#8212; IoT Assignment 2 0.1 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="menu module" href="menu.html" />
    <link rel="prev" title="dbUtil module" href="dbUtil.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="menu.html" title="menu module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="dbUtil.html" title="dbUtil module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">IoT Assignment 2 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" accesskey="U">IoTAssignment2</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-main">
<span id="main-module"></span><h1>main module<a class="headerlink" href="#module-main" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="main.cancelBooking">
<code class="descclassname">main.</code><code class="descname">cancelBooking</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.cancelBooking" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="main.carBooking">
<code class="descclassname">main.</code><code class="descname">carBooking</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.carBooking" title="Permalink to this definition">¶</a></dt>
<dd><p>User will book a car by posting to the booking and car tables</p>
</dd></dl>

<dl class="function">
<dt id="main.carManagement">
<code class="descclassname">main.</code><code class="descname">carManagement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.carManagement" title="Permalink to this definition">¶</a></dt>
<dd><p>An admin function that will let admin’s perform database operations
that regular users should not be able to.</p>
</dd></dl>

<dl class="function">
<dt id="main.carQuery">
<code class="descclassname">main.</code><code class="descname">carQuery</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.carQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>This function takes the data from a form and builds an sql query based
on what variation of attribute user was looking for.
If the form is blank it returns all the cars available like the cars route.
It is probably susceptible to an SQL injection at the moment but will
hopefully in the future provide a more robust input validation scheme.</p>
</dd></dl>

<dl class="function">
<dt id="main.cars">
<code class="descclassname">main.</code><code class="descname">cars</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.cars" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will render the template for the cars available to
hire. It also you can also search for available cars based on
their attributes via a POST form in carQuery.</p>
</dd></dl>

<dl class="function">
<dt id="main.home">
<code class="descclassname">main.</code><code class="descname">home</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.home" title="Permalink to this definition">¶</a></dt>
<dd><p>This function checks that the user is logged in to a valid user
and renders the individuals homepage. If its and admin user
it will have extra features available.
If its not logged in then the user will be redirected to the
login page.</p>
</dd></dl>

<dl class="function">
<dt id="main.login">
<code class="descclassname">main.</code><code class="descname">login</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.login" title="Permalink to this definition">¶</a></dt>
<dd><p>This POST function gets the username and password from a html
form and uses it to query the sql database.
If the user exists in the database it opens a session on the server.
If the user doesn’t exist it messages the user that they incorrectly
input their details or they aren’t registered in the database.</p>
</dd></dl>

<dl class="function">
<dt id="main.logout">
<code class="descclassname">main.</code><code class="descname">logout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.logout" title="Permalink to this definition">¶</a></dt>
<dd><p>Logout function to end the session and redirects to the login page</p>
</dd></dl>

<dl class="function">
<dt id="main.profile">
<code class="descclassname">main.</code><code class="descname">profile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.profile" title="Permalink to this definition">¶</a></dt>
<dd><p>This function defines the route to the users profile page where
they will be able to check their booking history.</p>
</dd></dl>

<dl class="function">
<dt id="main.register">
<code class="descclassname">main.</code><code class="descname">register</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.register" title="Permalink to this definition">¶</a></dt>
<dd><p>This function registers a new user. It first checks if the form data
from the user already exists in the database via a POST request to
the google sql database. The data is then processed through validation
so that the data will be valid and can be created in the database.
Once the form is correctly filled with valid data it will send it off
to the database and a new user will be registered.</p>
</dd></dl>

<dl class="function">
<dt id="main.userhistory">
<code class="descclassname">main.</code><code class="descname">userhistory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.userhistory" title="Permalink to this definition">¶</a></dt>
<dd><p>User will display history of bookings</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="dbUtil.html"
                        title="previous chapter">dbUtil module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="menu.html"
                        title="next chapter">menu module</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/main.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="menu.html" title="menu module"
             >next</a> |</li>
        <li class="right" >
          <a href="dbUtil.html" title="dbUtil module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">IoT Assignment 2 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >IoTAssignment2</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Peter Moorhead, Tim Dalzotto, Taylor Cairns, Joel Tan.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>