{% extends 'layout.html' %}
{% block title %}Cars{% endblock %}


{% block content %}
<h2>Car Search</h2>
<p>This is where you can search and book cars.</p>

<form action="{{ url_for('carQuery') }}" method="post" autocomplete="off">
	<label for="username">
		<i class="fas fa-user"></i>
	</label>
	<input type="text" name="idCar" placeholder="Seach by id" id="idCar">
	<label for="username">
		<i class="fas fa-user"></i>
	</label>
	<input type="text" name="make" placeholder="Seach by make" id="make">
	<label for="username">
		<i class="fas fa-user"></i>
	</label>
	<input type="text" name="bodyType" placeholder="Seach by body type" id="bodyType">
	<label for="username">
		<i class="fas fa-user"></i>
	</label>
	<input type="text" name="colour" placeholder="Seach by colour" id="colour">
	<label for="username">
		<i class="fas fa-user"></i>
	</label>
	<input type="text" name="seats" placeholder="Seach by number of seats" id="seats">
	<label for="username">
		<i class="fas fa-user"></i>
	</label>
	<input type="text" name="location" placeholder="Seach by location" id="location">
	<label for="username">
		<i class="fas fa-user"></i>
	</label>
	<input type="text" name="cost" placeholder="Seach by cost per hour" id="cost">
	<label for="username">
		<i class="fas fa-user"></i>
	</label>
	<input type="text" name="bookedBy" placeholder="Seach by user booked" id="bookedBy">
	<label for="username">
		<i class="fas fa-user"></i>
	</label-->
	<div class="msg">{{ msg }}</div>
	<input type="submit" value="Search">
</form>

<table id="myTable">
<TR>
	<TH>Id</TH>
	<TH>Make</TH>
	<TH>Body Type</TH>
	<TH>Colour</TH>
	<TH>Seats</TH>
	<TH>Location</TH>
	<TH>Cost</TH>
	<TH>BookedBy</TH>
</TR>

{% for row in cars %}
<TR>
	<TD>{{row.id}}</TD>
	<TD>{{row.make}}</TD>
	<TD>{{row.bodyType}}</TD>
	<TD>{{row.colour}}</TD>
	<TD>{{row.seats}}</TD>
	<TD>{{row.location}}</TD>
	<TD>{{row.cost}}</TD>
	<TD>{{row.bookedBy}}</TD>
</TR>
{% endfor %}
</table>

<script>
function idSearch() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("myInputidSearch");
    filter = input.value.toUpperCase();
    table = document.getElementById("myTable");
    tr = table.getElementsByTagName("TR");
    for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("TD")[0];
        if (td) {
	    txtValue = td.textContent || td.innerText;
	    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
	    }
        }
    }
}

function makeSearch() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("myInputmakeSearch");
    filter = input.value.toUpperCase();
    table = document.getElementById("myTable");
    tr = table.getElementsByTagName("TR");
    for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("TD")[1];
        if (td) {
	    txtValue = td.textContent || td.innerText;
	    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
	    }
        }
    }
}

function bodyTypeSearch() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("myInputbodyTypeSearch");
    filter = input.value.toUpperCase();
    table = document.getElementById("myTable");
    tr = table.getElementsByTagName("TR");
    for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("TD")[2];
        if (td) {
	    txtValue = td.textContent || td.innerText;
	    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
	    }
        }
    }
}

function colourSearch() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("myInputcolourSearch");
    filter = input.value.toUpperCase();
    table = document.getElementById("myTable");
    tr = table.getElementsByTagName("TR");
    for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("TD")[3];
        if (td) {
	    txtValue = td.textContent || td.innerText;
	    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
	    }
        }
    }
}

function seatsSearch() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("myInputseatsSearch");
    filter = input.value.toUpperCase();
    table = document.getElementById("myTable");
    tr = table.getElementsByTagName("TR");
    for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("TD")[4];
        if (td) {
	    txtValue = td.textContent || td.innerText;
	    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
	    }
        }
    }
}

function locationSearch() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("myInputlocationSearch");
    filter = input.value.toUpperCase();
    table = document.getElementById("myTable");
    tr = table.getElementsByTagName("TR");
    for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("TD")[5];
        if (td) {
	    txtValue = td.textContent || td.innerText;
	    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
	    }
        }
    }
}

function costSearch() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("myInputcostSearch");
    filter = input.value.toUpperCase();
    table = document.getElementById("myTable");
    tr = table.getElementsByTagName("TR");
    for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("TD")[6];
        if (td) {
	    txtValue = td.textContent || td.innerText;
	    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
	    }
        }
    }
}

function bookedSearch() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("myInputbookedSearch");
    filter = input.value.toUpperCase();
    table = document.getElementById("myTable");
    tr = table.getElementsByTagName("TR");
    for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("TD")[7];
        if (td) {
	    txtValue = td.textContent || td.innerText;
	    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
	    }
        }
    }
}
</script>


{% endblock %}
